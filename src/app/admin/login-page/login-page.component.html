<form *ngIf="form" class="form" [formGroup]="form" (ngSubmit)="submit()">

  <h2>Авторизация</h2>

  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput
           type="email"
           placeholder="Например. user@example.com"
           [errorStateMatcher]="matcher"
           formControlName="email"
    >
    <mat-error *ngIf="form.get('email')?.hasError('email') && !form.get('email')?.hasError('required')">
      Пожалуйста введите корректный email
    </mat-error>
    <mat-error *ngIf="form.get('email')?.hasError('required')">
      Необходимо ввести <strong>email</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Пароль</mat-label>
    <input matInput
           type="password"
           placeholder="Password"
           [type]="hide ? 'password' : 'text'"
           formControlName="password"/>
    <mat-icon matSuffix (click)="hide = !hide">
      {{ hide ? 'visibility' : 'visibility_off' }}
    </mat-icon>
    <mat-error *ngIf="form.get('password')?.hasError('required')">
      Необходимо ввести <strong>password</strong>
    </mat-error>
    <mat-error *ngIf="form.get('password')?.hasError('minlength')">Пароль не должен состоять меньше чем из 6 символов</mat-error>
  </mat-form-field>

  <button
    mat-flat-button color="primary"
    [disabled]="form.invalid"
  >Log in</button>
</form>
